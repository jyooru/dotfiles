From 77135ce76320db6a32037a3470b939123552e691 Mon Sep 17 00:00:00 2001
From: Tams Hetesi <tams@tams.hu>
Date: Fri, 11 Mar 2022 21:49:19 +0100
Subject: [PATCH] obsidian: Add obsidian:// scheme handler

---
 pkgs/applications/misc/obsidian/default.nix | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

diff --git a/pkgs/applications/misc/obsidian/default.nix b/pkgs/applications/misc/obsidian/default.nix
index 67a0939ddab97..813ef5a857779 100644
--- a/pkgs/applications/misc/obsidian/default.nix
+++ b/pkgs/applications/misc/obsidian/default.nix
@@ -49,8 +49,9 @@ let
       desktopName = "Obsidian";
       comment = "Knowledge base";
       icon = "obsidian";
-      exec = "obsidian";
+      exec = "obsidian %u";
       categories = [ "Office" ];
+      mimeTypes = [ "x-scheme-handler/obsidian" ];
     };
 
     inherit pname version src;
